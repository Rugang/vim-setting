" Make external commands work through a pipe instead of a pseudo-tty
"set noguipty

" set the GUI font to use, cant use list of fonts as appears broken
if has("gui_macvim")
	set guifont=Monaco:h13
	set fuoptions=maxvert,maxhorz
else
	set guifont=Consolas\ 12
endif

" Antialias font
set anti

" Start GUI Maximised
"au GUIEnter * simalt ~x

" Hide the mouse when typing text
set mousehide
" Disable the bell and flash for things
set vb t_vb=

" remove tool bar
set guioptions-=T
set guioptions-=m

" Default size of window
"set columns=179
"set lines=50

" Tab headings
function GuiTabLabel()
	let label = ''
	let bufnrlist = tabpagebuflist(v:lnum)

	" Add '+' if one of the buffers in the tab page is modified
	for bufnr in bufnrlist
		if getbufvar(bufnr, "&modified")
			let label = '+'
			break
		endif
	endfor

	" Append the number of windows in the tab page if more than one
	let wincount = tabpagewinnr(v:lnum, '$')
	if wincount > 1
		let label .= wincount
	endif
	if label != ''
		let label .= ' '
	endif

	" Append the buffer name (not full path)
	return label . "%t"
endfunction

set guitablabel=%!GuiTabLabel()

